services:
    _defaults:
        autowire: true
        autoconfigure: true

    Doctrine\Bundle\FixturesBundle\Loader\SymfonyFixturesLoader:
        alias: "doctrine.fixtures.loader"

    # Charge automatiquement TOUTES les classes dans src/
    App\:
        resource: "../src/"
        exclude:
            - "../src/DependencyInjection/"
            - "../src/Entity/"
            - "../src/Kernel.php"

    # Tes services sp√©cifiques
    App\Tenant\TenantContext: ~
    App\Tenant\TenantResolver: ~
    App\Tenant\TenantProvider: ~
    App\Tenant\TenantEntityManagerProvider: ~

    App\Tenant\TenantRequestListener:
        tags:
            - {
                  name: kernel.event_listener,
                  event: kernel.request,
                  method: onKernelRequest,
              }
